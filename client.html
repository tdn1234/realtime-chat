<!DOCTYPE html>
<html>
    <head>
        <script src="/socket.io/socket.io.js"></script>
        <script type="text/javascript">
            // our socket.io code goes here
            socketio = io.connect('localhost:8080');
            socketio.on('message_to_client', function(data){
            	// console.log(data);
            	document.getElementById('chatlog').innerHTML = "<hr/>" + data['message'] + 
            		document.getElementById('chatlog').innerHTML;
            });

            function sendMessage() {
            	// console.log('asdfasd');
			    var msg = document.getElementById("message_input").value;
			    socketio.emit("message_on_server", { message : msg});
			}
        </script>
    </head>
    <body>
        <input type="text" id="message_input"/>
        <button onclick="sendMessage()">send</button>
        <div id="chatlog"></div>
    </body>
</html>